<!DOCTYPE html>
<html class="theme-next use-motion">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
<link rel="shortcut icon" href="http://localhost:8080/img/favicon.ico" />
<link rel="stylesheet" type="text/css" href="http://localhost:8080/css/main.css">
<link rel="stylesheet" href="http://localhost:8080/css/compoment.css?4bf3b5f">
<script>var basePath="http://localhost:8080";var adminPath="http://localhost:8080/admin";</script><script type="text/javascript" src="http://localhost:8080/js/jquery.min.js"></script>
<script type="text/javascript" src="http://localhost:8080/js/md5.min.js"></script>
<script type="text/javascript" src="http://localhost:8080/js/sg.js"></script>
<script type="text/javascript" src="http://localhost:8080/js/sgutil.js"></script>
<script type="text/javascript" src="http://localhost:8080/js/admin.js"></script><title>é‚£äº›æ€»æ˜¯ä¼šé—®åˆ°çš„é¢è¯•é¢˜ï¼šgetCurrentSession()ä¸openSession()çš„åŒºåˆ«ï¼Ÿ-ä¸­åå¢¨é£-'s Zone</title>
<meta name="description" content="é‡åˆ°è¿‡çš„é—®é¢˜ï¼š æƒ…æ™¯1ï¼š åœ¨ä½¿ç”¨SessionFactoryçš„getCurrentSessionæ–¹æ³•æ—¶é‡åˆ°å¦‚ä¸‹é”™è¯¯ï¼Œç»è¿‡æ£€æŸ¥ï¼ŒåŸå› å¦‚ä¸‹ï¼š æ˜¯å› ä¸ºåœ¨hibern ...">
<meta name="keywords" content="">
<style>.loadmore{background:#fbfbfb;padding:5px;margin:30px 0;text-align: center;}
	.loadmore a{display: block;border-bottom:0;}
	.rebtn{color:#333;font-size: 12px;}
	.itb-musicboxs,.itb-imgboxs{margin:20px 0px;text-align: center;overflow:hidden;}
	.itb-musicboxs,.itb-imgboxs img{width:100%;}
	.itb-audioboxs{position:absolute;bottom:-3px;left:3px;}
	.playboxs{position:absolute;z-index:3;top:0;left:0;right:0;text-align: center;line-height: auto;bottom:0;}
	.playboxs i{font-size:112px;color:#fff;}
	
</style>
</head>
<body title="åŒå‡»çœ‹è¯¦æƒ…" data-edit="blog" data-opid="34" data-comment="open">
<div class="container one-column page-home ">
	<div id="pandara-brand" class="my-brand" style="opacity: 1; top: 0px;">
		<div id="space-ship" class="pandara-image  animated rotateInDownRight"></div>
		<div id="planet0" class="pandara-image r animated rotateIn"></div>
		<div id="earth" class="pandara-image animated zoomInUp"></div>
		<!-- <div id="planet1" class="pandara-image animated zoomInDown"></div>
		<div id="planet2" class="pandara-image animated rotateIn"></div>
		<div id="planet3" class="pandara-image animated rotateIn"></div>
		<div id="satellite" class="pandara-image animated zoomInDown"></div>
		<div id="planet4" class="pandara-image animated rotateIn"></div> -->
		<!-- <div id="planet5" class="pandara-image animated rotateInDownRight"></div> -->
		<!-- <div id="planet6" class="pandara-image animated rotateInDownLeft"></div> -->
	</div>  
	<div class="headband"></div>
	<header id="header" class="header" >
		<div class="header-inner ">
			<h1 class="site-meta animated2 fadeInDown">
				<span class="logo-line-before"><i></i></span> <span 
					class="brand" rel="start" style="opacity: 1;"> <span
					class="logo" style="opacity: 1; top: 0px;">
						<i class="icon-logo"></i>
				</span> <span class="site-title"
					style="opacity: 1; top: 0px;"><a href="http://localhost:8080" class="cof" style="border-bottom: none;">ä¸­åå¢¨é£'s zone~~~</a></span>
					<a href="javascript:void(0);" class="loginlink fz14 cof" onclick="mkLogin.loadLogin()">ç™»å½•</a>
					<a href="javascript:void(0);" class="loginlink fz14 cof" onclick="mkLogin.loadLoginReg()">/&nbsp;æ³¨å†Œ</a>
					<span id="loginspan" class="fz14"></span>
				</span> 
			
			</h1>
			
			<div class="site-nav-toggle">
				<button>
					<span class="btn-bar"></span> <span class="btn-bar"></span> <span
						class="btn-bar"></span>
				</button>
			</div>
			<nav class="site-nav">
				<ul id="menu" class="menu animated fadeInDown">
					<li class="menu-item menu-item-archives" style="opacity: 1; transform: translateY(0px);"><a class="active" href="http://localhost:8080" rel="section"> <i class="menu-item-icon  fa fa-home"></i> <br> é¦–é¡µ</a></li>
					<li class="menu-item menu-item-archives menu-item-course" style="opacity: 1; transform: translateY(0px);"><a href="http://localhost:8080/course" rel="section"> <i class="menu-item-icon  fa fa-bookmark"></i> <br> è¯¾ç¨‹</a></li>
					<li class="menu-item menu-item-archives menu-item-blog" style="opacity: 1; transform: translateY(0px);"><a href="http://localhost:8080/blog" rel="section"> <i class="menu-item-icon  fa fa-map-signs"></i> <br> æ•…äº‹</a></li>
					<li class="menu-item menu-item-archives menu-item-archives2" style="opacity: 1; transform: translateY(0px);"><a href="http://localhost:8080/archives" rel="section"> <i class="menu-item-icon  fa fa-quora"></i> <br> å½’æ¡£</a></li>
					<li class="menu-item menu-item-tags"
						style="opacity: 1; transform: translateY(0px);"><a
						href="https://gitee.com/kekesam" target="_blank" rel="section"> <i class="menu-item-icon fa fa-git-square"></i>
							<br> Gitç äº‘
					</a></li> 
					<li class="menu-item menu-item-about"
						style="opacity: 1; transform: translateY(0px);"><a
						href="http://localhost:8080/about"  target="_blank" rel="section"> <i
							class="menu-item-icon fa fa-user-circle-o"></i> <br> æˆ‘æ˜¯è°Ëšâˆ†Ëš
					</a></li> 
				</ul>

			</nav>
		</div>
	</header>	<main id="main" class="main">
	 	<div class="main-inner"style="width: px">
		<div id="content" class="content">
			<div id="posts" class="posts-expand">
				<article class="post post-type-normal animated  fadeIn">
					<header class="post-header">
						<h1 class="post-title">
							<a class="post-title-link" href="http://localhost:8080/blogs/g6dy5uWYbh34Sg4TvIGWjU.html">é‚£äº›æ€»æ˜¯ä¼šé—®åˆ°çš„é¢è¯•é¢˜ï¼šgetCurrentSession()ä¸openSession()çš„åŒºåˆ«ï¼Ÿ</a>
						</h1>
						<div class="post-meta">
							<span class="post-time"> å‘è¡¨äº <time
									datetime="2018/05/04 23:50:13">2018/05/04 23:50:13</time>
							</span> <span class="post-category"> &nbsp; | &nbsp; åˆ†ç±»äº :&nbsp;<span><a
									href="http://localhost:8080/search/1" rel="index">
										<span>å‰ç«¯</span>
								</a> </span></span> <span id="busuanzi_container_page_pv"
								style="display: inline;"> &nbsp; | &nbsp; è®¿å®¢ :&nbsp;<span
								id="bloghits">274</span> &nbsp; è¯„è®º :&nbsp;<a href="#txt_message"
								id="commentnum">0</a>
							</span>
							<span id="editbox"></span>
						</div>
					</header>
					<div class="post-body">
						<div class="itb-imgboxs pr">
						</div>
						<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);"><strong>é‡åˆ°è¿‡çš„é—®é¢˜ï¼š</strong></p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">æƒ…æ™¯1ï¼š</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">åœ¨ä½¿ç”¨SessionFactoryçš„getCurrentSessionæ–¹æ³•æ—¶é‡åˆ°å¦‚ä¸‹é”™è¯¯ï¼Œç»è¿‡æ£€æŸ¥ï¼ŒåŸå› å¦‚ä¸‹ï¼š</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">æ˜¯å› ä¸ºåœ¨hibernate.cfg.xmlæ–‡ä»¶ä¸­å¿˜è®°è¿›è¡Œäº†å¦‚ä¸‹è®¾ç½®ï¼š</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">hibernate.current_session_context_classå¦‚æœæ˜¯åœ¨webå®¹å™¨ä¸­è¿è¡Œhibernateï¼Œåˆ™åœ¨hibernate.cfg.xmlä¸­åŠ å…¥è¿™å¥è¯ï¼š</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;jta&lt;/property&gt;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">å¦‚æœæ˜¯åœ¨ä¸€ä¸ªå•ç‹¬çš„éœ€è¦è¿›è¡ŒJDBCè¿æ¥çš„java applicationä¸­è¿è¡Œhibernateï¼Œåˆ™è¿™æ ·è®¾ç½®ï¼š</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">æƒ…æ™¯2ï¼š</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">åœ¨ssh2ä¸­çš„sessionFactoryé…ç½®æ–‡ä»¶ä¸­</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">åº”å°†hibernate.current_session_context_classè®¾ä¸ºorg.springframework.orm.hibernate3.SpringSessionContextï¼ˆé»˜è®¤ä¸ºæ­¤å€¼ï¼‰</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">å¹¶åº”ç”¨springç®¡ç†äº‹åŠ¡ã€‚å¦‚æœä¸º&lt;prop key=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/prop&gt; åˆ™ä¼šæŠ¥å¼‚å¸¸ï¼Œ</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">æ‰€ä»¥è¿˜æ˜¯springä¸­hibernate.current_session_context_classçš„é—®é¢˜</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">åœ¨springçš„ç±»LocalSessionFactoryBeanæºç ï¼Œæ–¹æ³•buildSessionFactoryä¸­å°†hibernate.current_session_context_classè®¾ä¸ºorg.springframework.orm.hibernate3.SpringSessionContext</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">hibernate.current_session_context_classå±æ€§</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">sessionFactory.getCurrentSession()å¯ä»¥å®Œæˆä¸€ç³»åˆ—çš„å·¥ä½œï¼Œå½“è°ƒç”¨æ—¶hibernateå°†sessionç»‘å®šåˆ°å½“å‰çº¿ç¨‹ï¼Œäº‹åŠ¡ç»“æŸåhibernateå°†sessionä»å½“å‰çº¿ç¨‹ä¸­é‡Šæ”¾å¹¶ä¸”å…³é—­sessionã€‚å½“å†æ¬¡è°ƒç”¨getCurrentSession()æ—¶å°†å¾—åˆ°ä¸€ä¸ªæ–°çš„sessionï¼Œå¹¶é‡æ–°å¼€å§‹è¿™ä¸€ç³»åˆ—å·¥ä½œã€‚</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">è¿™æ ·è°ƒç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">Session session = HibernateUtil.getSessionFactory().getCurrentSession();</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">session.beginTransaction();</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">Event theEvent = new Event();</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">theEvent.setTitle(title);</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">theEvent.setDate(theDate);</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">session.save(theEvent);</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">session.getTransaction().commit(); &nbsp; //ä¸éœ€è¦close sessionäº†ã€‚ å‰ææ˜¯æ”¹å€¼è®¾ç½®ä¸ºäº†thread.</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">åœ¨ä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œå¦‚æœDAO å±‚ä½¿ç”¨Spring çš„hibernate æ¨¡æ¿ï¼Œé€šè¿‡Spring æ¥æ§åˆ¶session çš„ç”Ÿå‘½å‘¨æœŸï¼Œåˆ™é¦–é€‰getCurrentSession ()ã€‚</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">ä½¿ç”¨Hibernateçš„å¤§å¤šæ•°åº”ç”¨ç¨‹åºéœ€è¦æŸç§å½¢å¼çš„&ldquo;ä¸Šä¸‹æ–‡ç›¸å…³çš„&rdquo; sessionï¼Œç‰¹å®šçš„sessionåœ¨æ•´ä¸ªç‰¹å®šçš„ä¸Šä¸‹æ–‡èŒƒå›´å†…å§‹ç»ˆæœ‰æ•ˆã€‚ç„¶è€Œï¼Œå¯¹ä¸åŒç±»å‹çš„åº”ç”¨ç¨‹åºè€Œè¨€ï¼Œè¦ä¸ºä»€ä¹ˆæ˜¯ç»„æˆè¿™ç§&ldquo;ä¸Šä¸‹æ–‡&rdquo;ä¸‹ä¸€ä¸ªå®šä¹‰é€šå¸¸ æ˜¯å›°éš¾çš„ï¼›ä¸åŒçš„ä¸Šä¸‹æ–‡å¯¹&ldquo;å½“å‰&rdquo;è¿™ä¸ªæ¦‚å¿µå®šä¹‰äº†ä¸åŒçš„èŒƒå›´ã€‚åœ¨3.0ç‰ˆæœ¬ä¹‹å‰ï¼Œä½¿ç”¨Hibernateçš„ç¨‹åºè¦ä¹ˆé‡‡ç”¨è‡ªè¡Œç¼–å†™çš„åŸºäº ThreadLocalçš„ä¸Šä¸‹æ–‡sessionï¼Œè¦ä¹ˆé‡‡ç”¨HibernateUtilè¿™æ ·çš„è¾…åŠ©ç±»ï¼Œè¦ä¹ˆé‡‡ç”¨ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼ˆæ¯”å¦‚Springæˆ–Pico)ï¼Œ å®ƒä»¬æä¾›äº†åŸºäºä»£ç†(proxy)æˆ–è€…åŸºäºæ‹¦æˆªå™¨(interception)çš„ä¸Šä¸‹æ–‡ç›¸å…³sessionã€‚&nbsp;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">ä»3.0.1ç‰ˆæœ¬å¼€ å§‹ï¼ŒHibernateå¢åŠ äº†SessionFactory.getCurrentSession()æ–¹æ³•ã€‚ä¸€å¼€å§‹ï¼Œå®ƒå‡å®šäº†é‡‡ç”¨JTAäº‹åŠ¡ï¼ŒJTAäº‹åŠ¡ å®šä¹‰äº†å½“å‰sessionçš„èŒƒå›´å’Œä¸Šä¸‹æ–‡(scope and context)ã€‚Hibernateå¼€å‘å›¢é˜Ÿåšä¿¡ï¼Œå› ä¸ºæœ‰å¥½å‡ ä¸ªç‹¬ç«‹çš„JTA TransactionManagerå®ç°ç¨³å®šå¯ç”¨ï¼Œä¸è®ºæ˜¯å¦è¢«éƒ¨ç½²åˆ°ä¸€ä¸ªJ2EEå®¹å™¨ä¸­ï¼Œå¤§å¤šæ•°(å‡è‹¥ä¸æ˜¯æ‰€æœ‰çš„ï¼‰åº”ç”¨ç¨‹åºéƒ½åº”è¯¥é‡‡ç”¨JTAäº‹åŠ¡ç®¡ç†ã€‚ åŸºäºè¿™ä¸€ç‚¹ï¼Œé‡‡ç”¨JTAçš„ä¸Šä¸‹æ–‡ç›¸å…³sessionå¯ä»¥æ»¡è¶³ä½ ä¸€åˆ‡éœ€è¦ã€‚&nbsp;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">æ›´å¥½çš„æ˜¯ï¼Œä»3.1å¼€å§‹ï¼ŒSessionFactory.getCurrentSession()çš„åå°å®ç°æ˜¯å¯æ‹”æ’çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¼•å…¥äº†æ–°çš„æ‰©å±•æ¥å£(org.hibernate.context.CurrentSessionContext)å’Œæ–°çš„é…ç½®å‚æ•°(hibernate.current_session_context_class)ï¼Œä»¥ä¾¿å¯¹ä»€ä¹ˆæ˜¯&ldquo;å½“å‰session&rdquo;çš„èŒƒå›´å’Œä¸Šä¸‹æ–‡(scope and context)çš„å®šä¹‰è¿›è¡Œæ‹”æ’ã€‚</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">è¯·å‚é˜…org.hibernate.context.CurrentSessionContextæ¥å£çš„Javadoc,é‚£é‡Œæœ‰å…³äºå®ƒçš„å¥‘çº¦çš„è¯¦ç»†è®¨è®ºã€‚å®ƒå®šä¹‰äº†å•ä¸€çš„æ–¹æ³•ï¼ŒcurrentSession()ï¼Œç‰¹å®šçš„å®ç°ç”¨å®ƒæ¥è´Ÿè´£è·Ÿè¸ªå½“å‰çš„ä¸Šä¸‹æ–‡sessionã€‚Hibernateå†…ç½®äº†æ­¤æ¥å£çš„ä¸‰ç§å®ç°ã€‚</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">org.hibernate.context.JTASessionContext - å½“å‰sessionæ ¹æ®JTAæ¥è·Ÿè¸ªå’Œç•Œå®šã€‚è¿™å’Œä»¥å‰çš„ä»…æ”¯æŒJTAçš„æ–¹æ³•æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚è¯¦æƒ…è¯·å‚é˜…Javadocã€‚</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">org.hibernate.context.ThreadLocalSessionContext - å½“å‰sessioné€šè¿‡å½“å‰æ‰§è¡Œçš„çº¿ç¨‹æ¥è·Ÿè¸ªå’Œç•Œå®šã€‚è¯¦æƒ…ä¹Ÿè¯·å‚é˜…Javadocã€‚</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">org.hibernate.context.ManagedSessionContext - å½“å‰sessioné€šè¿‡å½“å‰æ‰§è¡Œçš„çº¿ç¨‹æ¥è·Ÿè¸ªå’Œç•Œå®šã€‚ä½†æ˜¯ï¼Œä½ éœ€è¦è´Ÿè´£ä½¿ç”¨è¿™ä¸ªç±»çš„é™æ€æ–¹æ³•å°†Sessionå®ä¾‹ç»‘å®šã€æˆ–è€…å–æ¶ˆç»‘å®šï¼Œå®ƒå¹¶ä¸ä¼šæ‰“å¼€(open)ã€flushæˆ–è€…å…³é—­(close)ä»»ä½•Sessionã€‚</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">å‰ä¸¤ç§å®ç°éƒ½æä¾›äº†&ldquo;æ¯æ•°æ®åº“äº‹åŠ¡å¯¹åº”ä¸€ä¸ªsession&rdquo;çš„ç¼–ç¨‹æ¨¡å‹ï¼Œä¹Ÿç§°ä½œæ¯æ¬¡è¯·æ±‚ä¸€ä¸ªsessionã€‚Hibernate sessionçš„èµ·å§‹å’Œç»ˆç»“ç”±æ•°æ®åº“äº‹åŠ¡çš„ç”Ÿå­˜æ¥æ§åˆ¶ã€‚å‡è‹¥ä½ åœ¨çº¯ç²¹çš„ Java SEä¹‹ä¸Šé‡‡ç”¨è‡ªè¡Œç¼–å†™ä»£ç æ¥ç®¡ç†äº‹åŠ¡,è€Œä¸ä½¿ç”¨JTAï¼Œå»ºè®®ä½ ä½¿ç”¨Hibernate Transaction APIæ¥æŠŠåº•å±‚äº‹åŠ¡å®ç°ä»ä½ çš„ä»£ç ä¸­éšè—æ‰ã€‚å¦‚æœä½ ä½¿ç”¨JTAï¼Œè¯·ä½¿ç”¨JTAå€Ÿå£æ¥ç®¡ç†Transactionã€‚å¦‚æœä½ åœ¨æ”¯æŒCMTçš„EJBå®¹å™¨ä¸­æ‰§è¡Œä»£ç ï¼Œäº‹åŠ¡è¾¹ç•Œæ˜¯å£°æ˜å¼å®šä¹‰çš„ï¼Œä½ ä¸éœ€è¦åœ¨ä»£ç ä¸­è¿›è¡Œä»»ä½•äº‹åŠ¡æˆ–sessionç®¡ç†æ“ä½œã€‚</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">hibernate.current_session_context_classé…ç½®å‚æ•°å®šä¹‰äº†åº”è¯¥é‡‡ç”¨å“ªä¸ªorg.hibernate.context.CurrentSessionContextå®ç°ã€‚æ³¨æ„ï¼Œä¸ºäº†å‘ä¸‹å…¼å®¹ï¼Œå¦‚æœæœªé…ç½®æ­¤å‚æ•°ï¼Œä½†æ˜¯å­˜åœ¨org.hibernate.transaction.TransactionManagerLookupçš„é…ç½®ï¼ŒHibernateä¼šé‡‡ç”¨org.hibernate.context.JTASessionContextã€‚ä¸€èˆ¬è€Œè¨€ï¼Œæ­¤å‚æ•°çš„å€¼æŒ‡æ˜äº†è¦ä½¿ç”¨çš„å®ç°ç±»çš„å…¨åï¼Œä½†é‚£ä¸‰ç§å†…ç½®çš„å®ç°å¯ä»¥ä½¿ç”¨ç®€å†™ï¼Œå³&quot;jta&quot;ã€&quot;thread&quot;å’Œ&quot;managed&quot;ã€‚</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);"><span style="font-size:18px;"><span style="color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">getCurrentSession()ä¸openSession()çš„åŒºåˆ«ï¼Ÿ</span></span></p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">åœ¨ SessionFactory å¯åŠ¨çš„æ—¶å€™ï¼Œ Hibernate ä¼šæ ¹æ®é…ç½®åˆ›å»ºç›¸åº”çš„ CurrentSessionContext ï¼Œåœ¨ getCurrentSession() è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œå®é™…è¢«æ‰§è¡Œçš„æ–¹æ³•æ˜¯CurrentSessionContext.currentSession() ã€‚åœ¨ currentSession() æ‰§è¡Œæ—¶ï¼Œå¦‚æœå½“å‰ Session ä¸ºç©ºï¼ŒcurrentSession ä¼šè°ƒç”¨SessionFactoryçš„openSession ã€‚æ‰€ä»¥getCurrentSession() å¯¹äº Java EE æ¥è¯´æ˜¯æ›´å¥½çš„è·å– Session çš„æ–¹æ³•ã€‚</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">* é‡‡ç”¨getCurrentSession()åˆ›å»ºçš„sessionä¼šç»‘å®šåˆ°å½“å‰çº¿ç¨‹ä¸­ï¼Œè€Œé‡‡ç”¨openSession()åˆ›å»ºçš„sessionåˆ™ä¸ä¼š</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">* é‡‡ç”¨getCurrentSession()åˆ›å»ºçš„sessionåœ¨commitæˆ–rollbackæ—¶ä¼šè‡ªåŠ¨å…³é—­ï¼Œè€Œé‡‡ç”¨openSession()åˆ›å»ºçš„sessionå¿…é¡»æ‰‹åŠ¨å…³é—­</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">2ã€ä½¿ç”¨getCurrentSession()éœ€è¦åœ¨hibernate.cfg.xmlæ–‡ä»¶ä¸­åŠ å…¥å¦‚ä¸‹é…ç½®ï¼š</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">* å¦‚æœä½¿ç”¨çš„æ˜¯æœ¬åœ°äº‹åŠ¡ï¼ˆjdbcäº‹åŠ¡ï¼‰</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">* å¦‚æœä½¿ç”¨çš„æ˜¯å…¨å±€äº‹åŠ¡ï¼ˆjtaäº‹åŠ¡ï¼‰</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;jta&lt;/property&gt;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">* å¦‚æœä½¿ç”¨çš„æ˜¯sessionçš„ç®¡ç†æœºåˆ¶ï¼ˆä¸å¤ªå¸¸ç”¨ï¼‰</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;managed&lt;/property&gt;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">åˆ©äºThreadLocalæ¨¡å¼ç®¡ç†Session</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;&nbsp; æ—©åœ¨Java1.2æ¨å‡ºä¹‹æ—¶ï¼ŒJavaå¹³å°ä¸­å°±å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ”¯æŒï¼šjava.lang.ThreadLocalï¼Œç»™æˆ‘ä»¬åœ¨ç¼–å†™å¤šçº¿ç¨‹ç¨‹åº</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;&nbsp; æ—¶æä¾›äº†ä¸€ç§æ–°çš„é€‰æ‹©ã€‚ThreadLocalæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®ThreadLocalå¹¶éæ˜¯ä¸€ä¸ªçº¿ç¨‹çš„æœ¬åœ°å®ç°ç‰ˆæœ¬ï¼Œå®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªThreadï¼Œ</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;&nbsp; è€Œæ˜¯thread local variable(çº¿ç¨‹å±€éƒ¨å˜é‡)ã€‚ä¹Ÿè®¸æŠŠå®ƒå‘½åä¸ºThreadLocalVaræ›´åŠ åˆé€‚ã€‚çº¿ç¨‹å±€éƒ¨å˜é‡(ThreadLocal)</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;&nbsp; å…¶å®çš„åŠŸç”¨éå¸¸ç®€å•ï¼Œå°±æ˜¯ä¸ºæ¯ä¸€ä¸ªä½¿ç”¨æŸå˜é‡çš„çº¿ç¨‹éƒ½æä¾›ä¸€ä¸ªè¯¥å˜é‡å€¼çš„å‰¯æœ¬ï¼Œæ˜¯æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜è‡ªå·±çš„å‰¯æœ¬ï¼Œ</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;&nbsp; è€Œä¸ä¼šå’Œå…¶å®ƒçº¿ç¨‹çš„å‰¯æœ¬å†²çªã€‚ä»çº¿ç¨‹çš„è§’åº¦çœ‹ï¼Œå°±å¥½åƒæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½å®Œå…¨æ‹¥æœ‰ä¸€ä¸ªè¯¥å˜é‡ã€‚&nbsp;</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;&nbsp; ThreadLocalæ˜¯å¦‚ä½•åšåˆ°ä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹ç»´æŠ¤å˜é‡çš„å‰¯æœ¬çš„å‘¢ï¼Ÿå…¶å®å®ç°çš„æ€è·¯å¾ˆç®€å•ï¼Œåœ¨ThreadLocalç±»ä¸­æœ‰ä¸€ä¸ªMapï¼Œ</p>

<p style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(255, 255, 255);">&nbsp;&nbsp; ç”¨äºå­˜å‚¨æ¯ä¸€ä¸ªçº¿ç¨‹çš„å˜é‡çš„å‰¯æœ¬ã€‚æ¯”å¦‚ä¸‹é¢çš„ç¤ºä¾‹å®ç°(ä¸ºäº†ç®€å•ï¼Œæ²¡æœ‰è€ƒè™‘é›†åˆçš„æ³›å‹)ï¼š&nbsp;</p>

<pre>
<code class="hljs javascript,java,sql,nodejs,vuejs,html,css,json">public&nbsp;class HibernateUtil {

public static final ThreadLocal session =new ThreadLocal();

public static final SessionFactory sessionFactory;

   static {

      try {

        sessionFactory = new Configuration().configure().buildSessionFactory();

      } catch (Throwable ex) {

           throw new ExceptionInInitializerError(ex);

      }     

}

     public static Session currentSession () throws HibernateException {

        Session s = session.get ();

        if(s == null) {

          s = sessionFactory.openSession ();

          session.set(s);

           }

         return s;

       }

    public static void closeSession() throws HibernateException {

           Session s = session.get ();

        if(s != null) {

            s.close();

        }

        session.set(null);

    }

}</code></pre>

						<hr />
						<p class="asb-post-footer tc"><strong>ã€å…¬å‘Šã€‘</strong><a target="_blank" href="http://localhost:8080">ç‰ˆæƒå£°æ˜</a></p>
						<div style="text-align: center;padding: 20px 0 10px;margin:20px 0 0px">
						 <img src="http://localhost:8080/qrcode?k=http://localhost:8080/blogs/g6dy5uWYbh34Sg4TvIGWjU.html" style="padding: 20px;" width="240px" height="240px" title="" alt=""><br/>æ¬¢è¿æ‰«æä¸‹è½½ã€ŠITbooking.netã€‹APPå­¦ä¹ äº¤æµå¹³å°
						</div>
						<p class="post-copyright tc">å¦‚æœªåŠ ç‰¹æ®Šè¯´æ˜ï¼Œæ­¤ç½‘ç«™æ–‡ç« å‡ä¸ºåŸåˆ›ï¼Œè½¬è½½å¿…é¡»æ³¨æ˜å‡ºå¤„ã€‚<a href="http://localhost:8080">ä¸­åå¢¨é£'s Blog</a> Â» </p>
						<p class="post-copyright tc tp4 pr"><a href="http://localhost:8080/blogs/g6dy5uWYbh34Sg4TvIGWjU.html">ã€Šé‚£äº›æ€»æ˜¯ä¼šé—®åˆ°çš„é¢è¯•é¢˜ï¼šgetCurrentSession()ä¸openSession()çš„åŒºåˆ«ï¼Ÿã€‹</a></p>
					</div>
					<footer class="post-footer">
						<div class="post-eof"></div>
					</footer>
				</article>
				<div class="post-spread"></div>
			</div>
		</div>
		<div class="comments v" id="comments">
			<div class="vwrap">
				<div class="vedit">
					<textarea id="txt_message" maxlength="400" class="veditor vinput" placeholder="Just go go" style=""></textarea>
					<div class="vemojis">
						<i name="grinning" title="grinning">ğŸ˜€</i><i name="smiley"
							title="smiley">ğŸ˜ƒ</i><i name="smile" title="smile">ğŸ˜„</i><i
							name="grin" title="grin">ğŸ˜</i><i name="laughing"
							title="laughing">ğŸ˜†</i><i name="sweat_smile" title="sweat_smile">ğŸ˜…</i><i
							name="joy" title="joy">ğŸ˜‚</i><i name="blush" title="blush">ğŸ˜Š</i><i
							name="innocent" title="innocent">ğŸ˜‡</i><i name="wink"
							title="wink">ğŸ˜‰</i><i name="relieved" title="relieved">ğŸ˜Œ</i><i
							name="heart_eyes" title="heart_eyes">ğŸ˜</i><i
							name="kissing_heart" title="kissing_heart">ğŸ˜˜</i><i
							name="kissing" title="kissing">ğŸ˜—</i><i
							name="kissing_smiling_eyes" title="kissing_smiling_eyes">ğŸ˜™</i><i
							name="kissing_closed_eyes" title="kissing_closed_eyes">ğŸ˜š</i><i
							name="yum" title="yum">ğŸ˜‹</i><i
							name="stuck_out_tongue_winking_eye"
							title="stuck_out_tongue_winking_eye">ğŸ˜œ</i><i
							name="stuck_out_tongue_closed_eyes"
							title="stuck_out_tongue_closed_eyes">ğŸ˜</i><i
							name="stuck_out_tongue" title="stuck_out_tongue">ğŸ˜›</i><i
							name="sunglasses" title="sunglasses">ğŸ˜</i><i name="smirk"
							title="smirk">ğŸ˜</i><i name="unamused" title="unamused">ğŸ˜’</i><i
							name="disappointed" title="disappointed">ğŸ˜</i><i name="pensive"
							title="pensive">ğŸ˜”</i><i name="worried" title="worried">ğŸ˜Ÿ</i><i
							name="confused" title="confused">ğŸ˜•</i><i name="persevere"
							title="persevere">ğŸ˜£</i><i name="confounded" title="confounded">ğŸ˜–</i><i
							name="tired_face" title="tired_face">ğŸ˜«</i><i name="weary"
							title="weary">ğŸ˜©</i><i name="angry" title="angry">ğŸ˜ </i><i
							name="rage" title="rage">ğŸ˜¡</i><i name="no_mouth"
							title="no_mouth">ğŸ˜¶</i><i name="neutral_face"
							title="neutral_face">ğŸ˜</i><i name="expressionless"
							title="expressionless">ğŸ˜‘</i><i name="hushed" title="hushed">ğŸ˜¯</i><i
							name="frowning" title="frowning">ğŸ˜¦</i><i name="anguished"
							title="anguished">ğŸ˜§</i><i name="open_mouth" title="open_mouth">ğŸ˜®</i><i
							name="astonished" title="astonished">ğŸ˜²</i><i name="dizzy_face"
							title="dizzy_face">ğŸ˜µ</i><i name="flushed" title="flushed">ğŸ˜³</i><i
							name="scream" title="scream">ğŸ˜±</i><i name="fearful"
							title="fearful">ğŸ˜¨</i><i name="cold_sweat" title="cold_sweat">ğŸ˜°</i><i
							name="cry" title="cry">ğŸ˜¢</i><i name="disappointed_relieved"
							title="disappointed_relieved">ğŸ˜¥</i><i name="sob" title="sob">ğŸ˜­</i><i
							name="sweat" title="sweat">ğŸ˜“</i><i name="sleepy" title="sleepy">ğŸ˜ª</i><i
							name="sleeping" title="sleeping">ğŸ˜´</i><i name="mask"
							title="mask">ğŸ˜·</i><i name="smiling_imp" title="smiling_imp">ğŸ˜ˆ</i><i
							name="smiley_cat" title="smiley_cat">ğŸ˜º</i><i name="smile_cat"
							title="smile_cat">ğŸ˜¸</i><i name="joy_cat" title="joy_cat">ğŸ˜¹</i><i
							name="heart_eyes_cat" title="heart_eyes_cat">ğŸ˜»</i><i
							name="smirk_cat" title="smirk_cat">ğŸ˜¼</i><i name="kissing_cat"
							title="kissing_cat">ğŸ˜½</i><i name="scream_cat"
							title="scream_cat">ğŸ™€</i><i name="crying_cat_face"
							title="crying_cat_face">ğŸ˜¿</i><i name="pouting_cat"
							title="pouting_cat">ğŸ˜¾</i><i name="cat" title="cat">ğŸ±</i><i
							name="mouse" title="mouse">ğŸ­</i><i name="cow" title="cow">ğŸ®</i><i
							name="monkey_face" title="monkey_face">ğŸµ</i><i name="hand"
							title="hand">âœ‹</i><i name="fist" title="fist">âœŠ</i><i name="v"
							title="v">âœŒï¸</i><i name="point_up" title="point_up">ğŸ‘†</i><i
							name="point_down" title="point_down">ğŸ‘‡</i><i name="point_left"
							title="point_left">ğŸ‘ˆ</i><i name="point_right"
							title="point_right">ğŸ‘‰</i><i name="facepunch" title="facepunch">ğŸ‘Š</i><i
							name="wave" title="wave">ğŸ‘‹</i><i name="clap" title="clap">ğŸ‘</i><i
							name="open_hands" title="open_hands">ğŸ‘</i><i name="+1"
							title="+1">ğŸ‘</i><i name="-1" title="-1">ğŸ‘</i><i name="ok_hand"
							title="ok_hand">ğŸ‘Œ</i><i name="pray" title="pray">ğŸ™</i><i
							name="ear" title="ear">ğŸ‘‚</i><i name="eyes" title="eyes">ğŸ‘€</i><i
							name="nose" title="nose">ğŸ‘ƒ</i><i name="lips" title="lips">ğŸ‘„</i><i
							name="tongue" title="tongue">ğŸ‘…</i><i name="heart" title="heart">â¤ï¸</i><i
							name="cupid" title="cupid">ğŸ’˜</i><i name="sparkling_heart"
							title="sparkling_heart">ğŸ’–</i><i name="star" title="star">â­ï¸</i><i
							name="sparkles" title="sparkles">âœ¨</i><i name="zap" title="zap">âš¡ï¸</i><i
							name="sunny" title="sunny">â˜€ï¸</i><i name="cloud" title="cloud">â˜ï¸</i><i
							name="snowflake" title="snowflake">â„ï¸</i><i name="umbrella"
							title="umbrella">â˜”ï¸</i><i name="coffee" title="coffee">â˜•ï¸</i><i
							name="airplane" title="airplane">âœˆï¸</i><i name="anchor"
							title="anchor">âš“ï¸</i><i name="watch" title="watch">âŒšï¸</i><i
							name="phone" title="phone">â˜ï¸</i><i name="hourglass"
							title="hourglass">âŒ›ï¸</i><i name="email" title="email">âœ‰ï¸</i><i
							name="scissors" title="scissors">âœ‚ï¸</i><i name="black_nib"
							title="black_nib">âœ’ï¸</i><i name="pencil2" title="pencil2">âœï¸</i><i
							name="x" title="x">âŒ</i><i name="recycle" title="recycle">â™»ï¸</i><i
							name="white_check_mark" title="white_check_mark">âœ…</i><i
							name="negative_squared_cross_mark"
							title="negative_squared_cross_mark">â</i><i name="m" title="m">â“‚ï¸</i><i
							name="i" title="i">â„¹ï¸</i><i name="tm" title="tm">â„¢ï¸</i><i
							name="copyright" title="copyright">Â©ï¸</i><i name="registered"
							title="registered">Â®ï¸</i>
					</div>
					<div class="vinput vpreview" style="display: none">
						<p>è¯•äº†ä¸‹ Java OpenCV
							åšäººè„¸æ£€æµ‹ï¼Œç¡®å®å¾ˆå¼ºå¤§ã€‚å®ç°èµ·æ¥éå¸¸ç®€å•ï¼Œä½†æ˜¯ç²¾å‡†åº¦ä¸å¤Ÿã€‚ä¸è¿‡åº”è¯¥èƒ½æ»¡è¶³æŸäº›åœºæ™¯ï¼Œæ¯”å¦‚ç›¸æœºçš„è‡ªåŠ¨å¯¹ç„¦ç­‰ã€‚è¿™é‡Œåˆ†äº«ä¸€ä¸‹ç›¸å…³çš„ä»£ç ã€‚</p>
					</div>
				</div>
				<div class="vcontrol">
					<div class="col col-20" title="Markdown is supported">
						è¿˜å¯ä»¥è¾“å…¥ï¼š<span class="numtip">400</span>&nbsp;å­—
					</div>
					<div class="col col-80 text-right">
						<a href="javacript:void(0);" onclick="mkComment.vcontrol(this)" class="vemoji-btn" style="margin-right: 20px;">Emoji</a> 
						<button type="button" @click="saveComment" title="Cmd|Ctrl+Enter" class="vsubmit vbtn">å›å¤</button>
					</div>
				</div>
				<div style="display: none;" class="vmark"></div>
			</div>
			<div class="vinfo" style="display: block;">
				<div class="vcount col">
					<span class="vnum">{{total}}</span> è¯„è®º
				</div>
			</div>
			
			
			<div class="vlist" id="vlist_box">
				<div class="vcard" :id="'vcard_'+comment.id"  v-for="(comment,index) in comments">
					<img class="vimg" onerror="imgError(this)" :src="basePath+'/'+comment.headerPic">
					<div class="vh">
						<div class="vhead">
							<span class="vnick">{{comment.username}}</span> <span class="vsys">{{comment.ip}}</span> <span class="vsys">{{comment.osbroswer}}</span>
						</div>
						<div class="vmeta">
							<span class="vtime">{{comment.createTime}} / {{comment.createTime|fomatTime}}</span>
							<span v-if="session_user==15074816437" :index="index" :opid="comment.id" @click="del" class="vat">&nbsp;/&nbsp;åˆ é™¤</span> 
							<span :cid="comment.userId" :at="'@'+comment.username" :opid="comment.id" :index="index" @click="reply" class="vat">å›å¤</span>
						</div>
						<div class="vcontent">
							<p v-html="comment.content"></p>
						</div>
						<div class="vquote">
							<div class="vcard" :id="'vcard_'+ccomment.id" v-for="ccomment in comment.children" >
								<img class="vimg" :src="basePath+'/'+ccomment.headerPic">
								<div class="vhead">
									<span class="vnick">{{ccomment.username}}</span> <span class="vsys">{{ccomment.ip}}</span> <span class="vsys">{{ccomment.osbroswer}}</span>
								</div>
								<div class="vmeta">
									<span class="vtime">{{ccomment.createTime}} / {{ccomment.createTime|fomatTime}}</span> 
									<span v-if="session_user==15074816437" :index="index" :opid="ccomment.id" @click="del" class="vat">&nbsp;/&nbsp;åˆ é™¤</span>
									<span :cid="ccomment.userId" :at="'@'+ccomment.username" :index="index" :opid="comment.id" @click="reply" class="vat">å›å¤</span>
								</div>
								<div class="vcontent">
									<p v-html="ccomment.content"></p>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="tc" style="padding:100px;background:#fefefe;" v-if="comments.length==0">æš‚æ— è¯„è®º</div>
				<div v-if="!hasNext" class="loadmore"><a href="javascript:void(0)" @click="loadmore">åŠ è½½æ›´å¤š({{pages}})</a></div>
				<div v-if="hasNext" class="loadmore animated fadeOut">åŠ è½½å®Œæ¯•</div>
			</div>
		</div>
	
	</div>
</main>
</div>
<aside id="sidebar" class="sidebar ">
			<div class="sidebar-inner">

				<section class="site-overview">
					<div class="site-author motion-element" itemprop="author"
						itemscope="" itemtype="http://schema.org/Person"
						style="opacity: 1; display: block; transform: translateX(0px);">
				<div class="site-author-avatar"></div>
				<p class="site-author-name" itemprop="name">Pandara</p>
			</div>
			<p class="site-description motion-element" itemprop="description"
				style="opacity: 1; display: block; transform: translateX(0px);">ä¸€åˆ‡çš†ä¸ºå¹´å°‘è½»ç‹‚ä¹‹è¯³è¯­Â·DeepLearning
				å°ç™½</p>
			<nav class="site-state motion-element"
				style="opacity: 1; display: block; transform: translateX(0px);">
				<div class="site-state-item site-state-posts">
					<a href="/archives"> <span class="site-state-item-count">92</span>
						<span class="site-state-item-name">æ—¥å¿—</span>
					</a>
				</div>

				<div class="site-state-item site-state-categories">
					<a href="/categories"> <span class="site-state-item-count">9</span>
						<span class="site-state-item-name">åˆ†ç±»</span>
					</a>
				</div>

				<div class="site-state-item site-state-tags">
					<a href="/tags"> <span class="site-state-item-count">44</span>
						<span class="site-state-item-name">æ ‡ç­¾</span>
					</a>
				</div>

			</nav>

			<div class="links-of-author motion-element"
				style="opacity: 1; display: block; transform: translateX(0px);">

				<span class="links-of-author-item"> <a
					href="https://github.com/PandaraWen" target="_blank">Github</a>
				</span> <span class="links-of-author-item"> <a
					href="https://dribbble.com/PandaraWen" target="_blank">Dribbble</a>
				</span> <span class="links-of-author-item"> <a
					href="https://twitter.com/WenPandara" target="_blank">Twitter</a>
				</span>

			</div>

			<div class="links-of-author motion-element"
				style="opacity: 1; display: block; transform: translateX(0px);">

				<p class="site-author-name">åŸºæƒ…é“¾æ¥</p>

				<span class="links-of-author-item"> <a
					href="http://aevit.xyz/" target="_blank">Aevit's Lab</a>
				</span> <span class="links-of-author-item"> <a
					href="http://w3ctrain.com" target="_blank">W3cTrain</a>
				</span> <span class="links-of-author-item"> <a
					href="http://mrazy.com" target="_blank">æ¢¦ç¯ç¬¼</a>
				</span>

			</div>

		</section>

		<div class="side-bar-foot-decorate">
			<div class="side-bar-man motion-element"
				style="opacity: 1; display: block; transform: translateX(0px);"></div>
			<div class="side-bar-star motion-element"
				style="opacity: 1; display: block; transform: translateX(0px);"></div>
		</div>
	</div>
</aside><footer id="footer" class="footer">
		<div class="footer-inner">
			<div class="copyright">

				Â© &nbsp; <span itemprop="copyrightYear">2018-2020</span> <span
					class="with-love"> <i class="icon-heart"></i>
				</span> <span class="author" itemprop="copyrightHolder">ä¸­åå¢¨é£</span>
			</div>

			<div class="powered-by">
				ç”± <a class="theme-link" href="http://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
			</div>

			<div class="powered-by">æ¹˜ICPå¤‡16011548å·-1</div>

			<div class="theme-info">
				ä¸»é¢˜ - <a class="theme-link"
					href="https://github.com/iissnan/hexo-theme-next"> NexT </a>
			</div>
		</div>
	</footer>
</div>

<div class="back-to-top" style="display: none;"></div>

<div class="sidebar-toggle">
	<div class="sidebar-toggle-line-wrap">
		<span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
		<span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
		<span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
	</div>
</div>


<!--å¼¹å‡ºç™»å½•-->
<div id="itbooking-loginbox" class="popup search-popup local-search-popup animated bounceInDown" style="display: none;">
<div class="app-location">
	<h3 class="errorbox animated flipInY" style=""></h3>
	<h2>ç™»å½•</h2>
	<div class="line">
		<span></span>
	</div>
	<a href="javascript:void(0);" class="closelogin" style=""><i class="fa fa-remove"></i></a>	
	<form onsubmit="return false" autocomplete="off">
		<input type="text" class="cctext" id="telephone" autofocus="autofocus" autocomplete="off" placeholder="æŠ¥ä¸Šæ‰‹æœº" maxlength="11" >
		<input type="password" class="ccron" id="password"   autocomplete="off" placeholder="è¾“å…¥é’¥åŒ™" maxlength="16">
		<span id="codebox" style="position: relative;display: none;">
			<input type="text" class="ccron" id="code" placeholder="éªŒè¯ç " maxlength="4">
			<img src="http://localhost:8080/code" alt="ç‚¹å‡»æ”¹å˜" style="position: absolute;right:10px;top:-10px;"  onclick="this.src='http://localhost:8080/code?d='+new Date().getTime();"/>
		</span>
		<div class="submit"><input type="submit" id="loginbtn" value="Sign in"></div>
		<div class="clear"></div>
		<div class="new">
			<h3><a href="javascript:void(0);" onclick="mkLogin.loadForget();" style="font-size: 16px;">å¿˜è®°å¯†ç  ?</a></h3>
			<h4><a href="javascript:void(0);" onclick="mkLogin.loadLoginReg();" style="font-size: 16px;">æ³¨å†Œ</a></h4>
			<div class="clear"></div>
		</div>
		</form>
	</div>
</div>
<div class="search-popup-overlay local-search-pop-overlay" style="display: none;"></div>
<style>
	.tipphone{border-radius:20px;color: #fff;position: absolute;width:100px;top:28px;right:10px;font-size: 12px;border-bottom: 0;background:#0bd38a;padding:3px 0 5px;/* display: none; */}
	/* .relocation_box:hover .tipphone{display:block} */
</style>
<!--å¼¹å‡ºæ³¨å†Œ-->
<div id="itbooking-regbox" class="popup search-popup local-search-popup animated bounceInDown">
<div class="app-location relocation_box">
	<h3 class="errorbox animated flipInY" style="position: absolute;font-size:20px;right:0;left:0;margin:0 auto;color:#fff;display: none"></h3>
	<h2>æ³¨å†Œ</h2>
	<div class="line">
		<span></span>
	</div>
	<a href="javascript:void(0);" class="closelogin" style=""><i class="fa fa-remove"></i></a>	
	<form onsubmit="return false" autocomplete="off">
		<span class="tipinputspan" style="position: relative;display: block;">
			<input type="text" class="cctext" id="r_telephone"  autofocus="autofocus" autocomplete="off" placeholder="æ‰‹æœºå·ç " maxlength="11" >
			<a href="javascript:void(0);" id="tipphone_get" class="tipphone">æå–çŸ­ä¿¡ç </a>
		</span>
		<span class="rred_codebox" style="position: relative;display: none;">
			<input type="text" class="ccron" id="r_code" disabled="disabled" placeholder="éªŒè¯ç " maxlength="4">
			<img src="http://localhost:8080/code" alt="ç‚¹å‡»æ”¹å˜" style="position: absolute;right:10px;top:-10px;"  onclick="this.src='http://localhost:8080/code?d='+new Date().getTime();"/>
		</span>
		<span class="rred_codebox" style="position: relative;display: none;">
			<input type="text" class="ccron" disabled="disabled" id="r_phocode" placeholder="è¾“å…¥çŸ­ä¿¡ç " maxlength="6">
		</span>
		<span class="rred_codebox"  style="display: none;">
			<input type="password" class="ccron" disabled="disabled" id="r_password"   autocomplete="off" placeholder="è¾“å…¥å¯†ç " maxlength="16">
		</span>
		<div class="rred_codebox submit" style="display: none;"><input type="submit" data-isopen="false" id="r_loginbtn" value="Reg in"></div>
		<div class="clear"></div>
		<div class="new">
			<h3><a href="javascript:void(0);" onclick="mkLogin.loadForget();" style="font-size: 16px;">å¿˜è®°å¯†ç  ?</a></h3>
			<h4><a href="javascript:void(0);" onclick="mkLogin.loadLogin();" style="font-size: 16px;">ç™»å½•</a></h4>
			<div class="clear"></div>
		</div>
		</form>
	</div>
</div>
<div class="search-popup-overlay local-search-pop-overlay" style="display: none;"></div>



<!--å¼¹å‡ºå¿˜è®°å¯†ç -->
<div id="itbooking-forgetbox" class="popup search-popup local-search-popup animated bounceInDown"  >
<div class="app-location">
	<h3 class="errorbox animated flipInY" style="position: absolute;font-size:20px;right:0;left:0;margin:0 auto;color:#fff;display: none"></h3>
	<h2>æ‰¾å›å¯†ç </h2>
	<div class="line">
		<span></span>
	</div>
	<a href="javascript:void(0);" class="closelogin" style=""><i class="fa fa-remove"></i></a>	
	<form onsubmit="return false" autocomplete="off">
		<span style="position: relative;display: block;">
			<input type="text" class="cctext" id="f_telephone" autofocus="autofocus" autocomplete="off" placeholder="æ‰‹æœºå·ç " maxlength="11" >
			<a href="javascript:void(0);" style="border-radius:20px;color: #fff;position: absolute;width:100px;top:28px;right:10px;font-size: 12px;border-bottom: 0;background:#0bd38a;padding:3px 0 5px">æå–çŸ­ä¿¡ç </a>
		</span>
		<span style="position: relative;display: none;">
			<input type="text" class="ccron" id="f_code" placeholder="éªŒè¯ç " maxlength="4">
			<img src="http://localhost:8080/code" alt="ç‚¹å‡»æ”¹å˜" style="position: absolute;right:10px;top:-10px;"  onclick="this.src='http://localhost:8080/code?d='+new Date().getTime();"/>
		</span>
		<span style="position: relative;display: none;">
			<input type="text" class="ccron" id="f_phonecode" placeholder="è¾“å…¥çŸ­ä¿¡ç " maxlength="4">
		</span>
		<span style="display: none;">
			<input type="password" class="ccron" id="f_password"   autocomplete="off" placeholder="è¾“å…¥é’¥åŒ™" maxlength="16">
		</span>
		<div class="submit"><input type="submit" id="f_loginbtn" value="Forget Back"></div>
		<div class="clear"></div>
		<div class="new">
			<h3><a href="javascript:void(0);" onclick="mkLogin.loadLoginReg();" style="font-size: 16px;">æ³¨å†Œ</a></h3>
			<h4><a href="javascript:void(0);" onclick="mkLogin.loadLogin();" style="font-size: 16px;">ç™»å½•</a></h4>
			<div class="clear"></div>
		</div>
		</form>
	</div>
</div>
<div class="search-popup-overlay local-search-pop-overlay" style="display: none;"></div>
<script type="text/javascript" src="http://localhost:8080/js/highcode/highlight.min.js"></script>
<script type="text/javascript" src="http://localhost:8080/js/clipboard/ZeroClipboard.js"></script>
<script type="text/javascript" src="http://localhost:8080/js/vue.js"></script>
<script type="text/javascript" src="http://localhost:8080/js/vue-resource.js"></script>
<script type="text/javascript" src="http://localhost:8080/js/blogcomment.js"></script>
<script type="text/javascript" src="http://localhost:8080/js/player.js"></script>

</body>
</html>
